<meta http-equiv="Content-Type" content="text/html;charset=UTF8">
<html>
<head>
    <title>Курс валют</title>
    <script>
        const socket = new WebSocket("ws://127.0.0.1/event/");
        const currencies = {'BTC':'Биткоин','ETH':'Эфир','EUR':'Евро','LTC':'Лайткоин','USD':'Доллар'};
        socket.onmessage = function(event) {
            console.log("Получены данные " + event.data);
            var data = JSON.parse(event.data);
            for (val in data)
            {
                document.getElementById(val).innerHTML = currencies[val]+": "+data[val];
            }
//            for(i = 0; i < currencies.length; i++)
//            {
//                document.getElementById(currencies[i]).innerHTML = names[i]+": "+data[currencies[i]]+" ₽";
//            }
        };

    </script>
</head>
<body>
<dl>
    <dt>Текущий курс</dt>
    <dd id = 'EUR'>Евро: </dd>
    <dd id = 'USD'>Доллар: </dd>
    <dd id = 'BTC'>Биткоин: </dd>
    <dd id = 'LTC'>Лайткоин: </dd>
    <dd id = 'ETH'>Эфир: </dd>
</dl>

</body>
</html>